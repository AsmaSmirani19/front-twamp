<form #form="ngForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="name">Test Name</label>
    <input type="text" id="name" name="name" class="form-control" [(ngModel)]="testForm.name" required>
  </div>

  <div class="form-group">
    <label for="duration">Test Duration (seconds)</label>
    <input type="number" id="duration" name="duration" class="form-control" [(ngModel)]="testForm.duration" min="1" required>
  </div>

  <div class="form-group">
    <label for="agentSource">Agent Source</label>
    <select id="agentSource" name="agentSource" class="form-control" [(ngModel)]="testForm.agentSource" required>
      <option value="" disabled selected>Select Agent Source</option>
      <option *ngFor="let agent of agents" [value]="agent.id">{{ agent.name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="agentDestination">Agent Destination</label>
    <select id="agentDestination" name="agentDestination" class="form-control" [(ngModel)]="testForm.agentDestination" required>
      <option value="" disabled selected>Select Agent Destination</option>
      <option *ngFor="let agent of agents" [value]="agent.id">{{ agent.name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="nbTests">Number of Tests</label>
    <input type="number" id="nbTests" name="nbTests" class="form-control" [(ngModel)]="testForm.nbTests" min="1" required>
  </div>

  <div class="form-group">
    <label for="qosProfile">QoS Profile</label>
    <select id="qosProfile" name="qosProfile" class="form-control" [(ngModel)]="testForm.qosProfile" required>
      <option value="" disabled selected>Select QoS Profile</option>
      <option *ngFor="let profile of testProfiles" [value]="profile.id">{{ profile.profile_name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="threshold">Threshold</label>
    <select id="threshold" name="threshold" class="form-control" [(ngModel)]="testForm.threshold" required>
      <option value="" disabled selected>Select Threshold</option>
      <option *ngFor="let threshold of thresholds" [value]="threshold">{{ threshold }}</option>
    </select>
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Submit</button>
</form>
